# Alias directories for quick access - links often work better but these are helpful
alias atn="clear ; cd ~/Sites/atheneo ; echo '========================== Atheneo ========================='"
alias atnmate="subl ~/Sites/atheneo"
alias atnssh="ssh dev@dev.atheneo.net"
alias atninfo="subl $DROPBOX_HOME/Edify/server\ notes.yml"

# Dynamic Books Aliases
alias db="clear ; cd ~/Sites/DynamicBooks ; echo '========================== DynamicBooks ========================='"
alias dbsubl="subl ~/Sites/DynamicBooks/DynamicBooks.sublime-project"
alias dbcleanbe="cd ~/Sites/DynamicBooks/clv2-core/ ; ./clean-backend.sh"
alias dbsvn="~/Sites/DynamicBooks/clv2-core/start-svn.sh"
alias dbloaddump="~/db-data/load-dump.sh"
alias dbbuild="mvn clean install -Dmaven.test.skip=true"
alias dbimport-books='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/books/book.csv" -Dimport.basepath="/Users/arturo/db-data/books" -Dimport.filetype=books'
alias dbimport-supp='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/books/supplements.csv" -Dimport.basepath="/Users/arturo/db-data/books" -Dimport.filetype=supplements'
alias dbimport-media='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/media/media-assets-min.csv" -Dimport.basepath="/Users/arturo/db-data/media" -Dimport.filetype=media-assets'
function dbdeploy() {
    if [ -d $CATALINA_HOME/webapps/dynamicbooks ] ; then
        rm -r $CATALINA_HOME/webapps/dynamicbooks
    fi
    if [ -f $CATALINA_HOME/webapps/dynamicbooks.war ] ; then
        rm $CATALINA_HOME/webapps/dynamicbooks.war
    fi
    if [ -f ~/Sites/DynamicBooks/dynamicbooks-web/target/dynamicbooks.war ] ; then
        cp ~/Sites/DynamicBooks/dynamicbooks-web/target/dynamicbooks.war $CATALINA_HOME/webapps/ ;
        echo "New WAR copied successfully!"
    else
        echo "There's not a war ready for deploy..."
    fi
}

function dblive() {
    echo "Removing deployed directories..."
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/css
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/img
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/js
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/WEB-INF/view
    sleep 1
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/css $CATALINA_HOME/webapps/dynamicbooks/css
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/img $CATALINA_HOME/webapps/dynamicbooks/img
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/js $CATALINA_HOME/webapps/dynamicbooks/js
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/WEB-INF/view $CATALINA_HOME/webapps/dynamicbooks/WEB-INF/view
    echo "Symlinks created!"
    sleep 1
}
