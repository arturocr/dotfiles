# Dynamic Books Aliases
alias db="clear ; cd ~/Sites/DynamicBooks ; echo '========================== DynamicBooks ========================='"
alias dbsubl="subl ~/Sites/DynamicBooks/DynamicBooks.sublime-project"
alias dbcleanbe="cd ~/Sites/DynamicBooks/clv2-core/ ; ./clean-backend.sh"
alias dbsvn="~/Sites/DynamicBooks/clv2-core/start-svn.sh"
alias dbloaddump="~/db-data/load-dump.sh"
alias dbbuild="mvn clean install -Dmaven.test.skip=true"
alias dbimport-books='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/books.csv" -Dimport.basepath="/Users/arturo/db-data" -Dimport.filetype=books'
alias dbimport-obooks='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/openBooks.csv" -Dimport.basepath="/Users/arturo/db-data" -Dimport.filetype=books'
alias dbimport-supp='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/supplements.csv" -Dimport.basepath="/Users/arturo/db-data" -Dimport.filetype=supplements'
alias dbimport-media='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/media-assets.csv" -Dimport.basepath="/Users/arturo/db-data" -Dimport.filetype=media-assets'
alias dbimport-flash='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/flash-swf.csv" -Dimport.basepath="/Users/arturo/db-data" -Dimport.filetype=flash-swf'
alias dbimport-dcr='mvn exec:java -Dexec.mainClass="com.dynamicbooks.importer.Main" -Dexec.args="%classpath" -Dexec.includeProjectDependencies="true" -Dimport.csv="/Users/arturo/db-data/shockwave-dcr.csv" -Dimport.basepath="/Users/arturo/db-data" -Dimport.filetype=shockwave-dcr'

function deploy-dbooks() {
    if [ -d $CATALINA_HOME/webapps/dynamicbooks ] ; then
        rm -r $CATALINA_HOME/webapps/dynamicbooks
    fi
    if [ -f $CATALINA_HOME/webapps/dynamicbooks.war ] ; then
        rm $CATALINA_HOME/webapps/dynamicbooks.war
    fi
    if [ -f ~/Sites/DynamicBooks/dynamicbooks-web/target/dynamicbooks.war ] ; then
        cp ~/Sites/DynamicBooks/dynamicbooks-web/target/dynamicbooks.war $CATALINA_HOME/webapps/ ;
        echo "New dynamicbooks.war copied successfully!"
    else
        echo "There's not a war ready for deploy..."
    fi
}

function symlink-dbooks() {
    echo "Removing deployed directories..."
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/css
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/img
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/js
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/swf
    rm -rf $CATALINA_HOME/webapps/dynamicbooks/WEB-INF/view
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/css $CATALINA_HOME/webapps/dynamicbooks/css
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/img $CATALINA_HOME/webapps/dynamicbooks/img
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/js $CATALINA_HOME/webapps/dynamicbooks/js
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/swf $CATALINA_HOME/webapps/dynamicbooks/swf
    ln -s ~/Sites/DynamicBooks/dynamicbooks-web/src/main/webapp/WEB-INF/view $CATALINA_HOME/webapps/dynamicbooks/WEB-INF/view
    echo "Deploy symlinks created!"
    symlink-dbooks-content
}

function symlink-dbooks-content() {
    echo "Creating static content symlink..."
    if [ -d $CATALINA_HOME/webapps/dynamicbooks/dynamicbooks-content ] ; then
        echo "'dynamicbooks-content' folder already exists!"
    else
        ln -s ~/db-data $CATALINA_HOME/webapps/dynamicbooks/dynamicbooks-content
        echo "Static content symlink created!"
    fi
}

alias dbooks-up="tomup ; checktomcat ; symlink-dbooks"
alias dbooks-debug="tomdebug ; checktomcat ; symlink-dbooks"

# Hotchalk
alias course-lib="clear ; cd ~/Sites/teachLearn ; echo '========================== Course Library ========================='"
alias hotchalk-cl="course-lib ; cd common-library"
alias hotchalk-clcore="hotchalk-cl ; cd CLcore"
alias hotchalk-clws="hotchalk-cl ; cd CLws"
alias hotchalk-clui="hotchalk-cl ; cd CLui"